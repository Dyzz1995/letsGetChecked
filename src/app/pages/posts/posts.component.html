<ng-container>
  <div class="title-div">
    <span class="title">All Posts</span>
  </div>
  <ul class="posts">
    <li class="posts-item" *ngFor="let post of posts">
      <div class="posts-item-wrapper">
        <div class="posts-item-wrapper-header" (click)="onPostClick(post)">
          <div class="posts-item-wrapper-header-item">
            <mat-icon aria-hidden="false">local_post_office</mat-icon>
            <span>{{ post.title }}</span>
          </div>
          <div class="posts-item-wrapper-header">
            <mat-icon
              *ngIf="!post.expanded"
              class="posts-item-wrapper-header-arrow"
              aria-hidden="false"
              >keyboard_arrow_down</mat-icon
            >
            <mat-icon
              *ngIf="post.expanded"
              class="posts-item-wrapper-header-arrow"
              aria-hidden="false"
              >keyboard_arrow_up</mat-icon
            >
          </div>
        </div>
        <div class="posts-item-wrapper-content">
          <div class="posts-item-wrapper-content-column">
            <div class="posts-item-wrapper-content-column-details-wrapper">
              <mat-icon class="details-icons" [appTooltip]="descriptionTooltip"
                >description</mat-icon
              >
              <span>
                {{ post.description }}
              </span>
            </div>
          </div>
          <div
            class="
              posts-item-wrapper-content-column
              posts-item-wrapper-content-column-details
            "
          >
            <div class="posts-item-wrapper-content-column-details-wrapper">
              <mat-icon [appTooltip]="authorTooltip" class="details-icons">
                person_pin</mat-icon
              >
              <span>
                {{ post.author }}
              </span>
            </div>
          </div>
          <div
            class="
              posts-item-wrapper-content-column
              posts-item-wrapper-content-column-details
            "
          >
            <div class="posts-item-wrapper-content-column-details-wrapper">
              <mat-icon [appTooltip]="publishDateTooltip" class="details-icons"
                >date_range</mat-icon
              >
              <span>
                {{ post.publish_date }}
              </span>
            </div>
          </div>
        </div>
        <div *ngIf="post.expanded" class="posts-item-wrapper-content">
          <div class="posts-item-wrapper-content-title">
            <mat-icon class="details-icons">info</mat-icon>
            <span>Post content</span>
          </div>
          <div
            class="posts-item-wrapper-content-expanded"
            [innerHtml]="post.content"
          ></div>

          <div class="posts-item-wrapper-footer">
            <a [routerLink]="'/posts/10'" class="number-comments"
              >(Number of comments) <b>{{ post.comments?.length }}</b></a
            >
            <button class="button" [routerLink]="['/', 'posts', post.id]">
              See more
            </button>
          </div>
        </div>
      </div>
    </li>
  </ul>

  <ng-template #authorTooltip>
    <span>Author</span>
  </ng-template>
  <ng-template #publishDateTooltip>
    <span>Publish date</span>
  </ng-template>
  <ng-template #descriptionTooltip>
    <span>Description</span>
  </ng-template>
</ng-container>
